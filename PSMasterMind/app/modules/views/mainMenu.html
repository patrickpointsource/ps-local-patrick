<ul ng-controller="MenuCtrl" class="nav navbar-nav {{additionalClass}}">
    <li ng-repeat="menuItem in menuItems" ng-class="{active: activeArea() === '{{menuItem.value}}'}"
        ng-if="menuItem.isRender">
        <a ng-click="handleClick($event, menuItem.handler, menuItem)"
           class="{{menuItem.subItems.length > 0 ? 'close-dropdown hasSubmenu': 'close-dropdown'}}">
            <i class="fa fa-2x fa-fw {{menuItem.iconCss}}"></i>
            <span>{{menuItem.text}}</span>

        </a>
        <ul ng-if="menuItem.subItems.length > 0" class="nav navbar-nav subnavbar">
            <li class="mainmenu-ref" ng-click="showMainMenu(window.event)">
                <a class=""> <i class="fa fa-2x fa-fw fa-arrow-left"></i> <span>main menu</span></a>
            </li>
            <li class="subitems-header subheader">
                <a class="close-dropdown"> <span>{{menuItem.text}}</span></a>
            </li>
            <li ng-repeat-start="subItem in menuItem.subItems" ng-show="subItemShown(menuItem, subItem)"
                ng-if="!subItem.isNotRender"
                ng-class="{'active-subitem': isSubitemSelected(subItem, menuItem), 'subheader': subItem.subheader, 'has-subitems':subItem.subItems.length > 0}">
                <a ng-click="handleClick($event, subItem.handler, menuItem, subItem, $index, subItem.subItems.length > 0)"
                   class="close-dropdown">
                    <span>{{subItem.text}}</span>
                    <i class="fa fa-circle-thin"></i>
                    <i class="fa fa-check"></i>
                </a>


            </li>

            <li ng-repeat="si in subItem.subItems" class="nav inner-subitem"
                ng-if="subItem.active && subItem.subItems.length > 0" ng-show="subItemShown(menuItem, subItem)"
                ng-if="!subItem.isNotRender"
                ng-class="{'active-subitem': is3rdLevelSubitemSelected(si, subItem, menuItem)}">
                <a class="close-dropdown" ng-click="handleSubcategoryClick($event, menuItem, subItem, si)">
                    <span>{{si.text}}</span>
                    <i class="fa fa-circle-thin"></i>
                    <i class="fa fa-check"></i>
                </a>
            </li>

            <li ng-repeat-end ng-if="false"></li>

        </ul>

    </li>


</ul>
