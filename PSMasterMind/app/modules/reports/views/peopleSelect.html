<div class="reports">
	<div class="row padded-row parameters" style="margin-top: 20px;">
		<div class="spinner-container" ng-show="isGenerationInProgress" style="width: calc(100% - 30px);">
			<i class="fa fa-spinner fa-spin fa-3x"></i>
			<button class="btn btn-report" ng-click="reportHandler.cancel($event)" ng-show="isGenerationInProgress">
					Cancel
			</button>
			<label id="lblTimer"></label>
		</div>
		<div class="col-md-5">
			<div class="well" style="margin-left: -15px; margin-right: 20px;">
				<div >
					<h3>Select one or more location</h3>
				</div>
				<br />
				<div class="groups">
					<label>
						<input type="checkbox" ng-change="selectAllLocations();" ng-model="params.locations.all" />
						All locations
					</label>
					<br />
					<div style="margin-left: 20px;">
						<label>
							<input type="checkbox" ng-change="selectLocationParent('onshore');" ng-model="params.locations.onshore" />
							Onshore, not including Chicago
						</label>
						<br />
						<label>
							<input type="checkbox" ng-change="selectLocationParent('chicago');" ng-model="params.locations.chicago" />
							Chicago
						</label>
						<br />
						<label>
							<input type="checkbox" ng-change="selectLocationParent('offshore');" ng-model="params.locations.offshore" />
							Offshore
						</label>
					</div>
				</div>
			</div>
		</div>
		<div class="well col-md-7">
			<div>
				<h3>Select one or more department</h3>
			</div>
			<br />
			<div  class="groups">
				<label>
					<input type="checkbox" ng-change="selectAllDepartments();" ng-model="params.departments.all" />
					All Departments
				</label>
			</div>
			<div class="row groups" style="margin-left: 20px;">
				<div class="col-xs-12 col-md-6">
					<label>
						<input type="checkbox" ng-change="selectDepartmentParent('administration');" ng-model="params.departments.administration" />
						Administration
					</label>
					<br />
					<label>
						<input type="checkbox" ng-change="selectDepartmentParent('architects');" ng-model="params.departments.architects" />
						Architects
					</label>
					<br />
					<label>
						<input type="checkbox" ng-change="selectDepartmentParent('clientexpierencemgmt');" ng-model="params.departments.clientexpierencemgmt" />
						Client Experience Management
					</label>
					<br />
					<label>
						<input type="checkbox" ng-change="selectDepartmentParent('development');" ng-model="params.departments.development" />
						Development
					</label>
				</div>
				<div class="col-xs-12 col-md-6">
					<label>
						<input type="checkbox" ng-change="selectDepartmentParent('digitalexperience');" ng-model="params.departments.digitalexperience" />
						Digital Experience
					</label>
					<br />
					<label>
						<input type="checkbox" ng-change="selectDepartmentParent('executivemgmt');" ng-model="params.departments.executivemgmt" />
						Executive Management
					</label>
					<br />
					<label>
						<input type="checkbox" ng-change="selectDepartmentParent('marketing');" ng-model="params.departments.marketing" />
						Marketing
					</label>
					<br />
					<label>
						<input type="checkbox" ng-change="selectDepartmentParent('sales');" ng-model="params.departments.sales" />
						Sales
					</label>
				</div>
			</div>
		</div>
	</div>
	<div class="row padded-row parameters" style="margin-top: 20px;">
		<div class="col-md-7">
			<div class="well" style="margin-left: -15px; margin-right: 20px;">
				<div >
					<h3>Select roles</h3>
				</div>
				<br />
				<div ng-if="!(params.departments.all || params.departments.administration || params.departments.architects ||
					params.departments.clientexpierencemgmt || params.departments.development || params.departments.digitalexperience ||
					params.departments.executivemgmt || params.departments.marketing || params.departments.sales)">
					Select a department to view roles, or select All departments to select from all available roles.</div>
				<div class="row groups">
					<div class="col-md-6">
						<div ng-repeat="role in result = (roles | filter: filterRolesByGroup(params.departments))" ng-if="$index < result.length / 2">
		                    <label>
		                        <input type="checkbox" ng-model="params.roles[role.abbreviation]" />
		                        {{role.title}}
		                    </label>
		                </div>
	                </div>
	                <div class="col-md-6">
		                <div ng-repeat="role in result = (roles | filter: filterRolesByGroup(params.departments))" ng-if="$index >= result.length / 2">
		                    <label>
		                        <input type="checkbox" ng-model="params.roles[role.abbreviation]" />
		                        {{role.title}}
		                    </label>
		                </div>
	                </div>
				</div>
			</div>
		</div>
		<div class="well col-md-5">
			<div >
				<h3>Select a date range</h3>
			</div>
			<br />
			<div class="row groups">
				<div class="col-xs-12 col-md-4">
					<label>
	                	<input type="radio" name="date" ng-model="params.date.range" value="week" />
	                	One week
                	</label>
                	<br />
                	<label>
	                	<input type="radio" name="date" ng-model="params.date.range" value="weeks" />
	                	Two weeks
                	</label>
                	<br />
                	<label>
	                	<input type="radio" name="date" ng-model="params.date.range" value="month" />
	                	One month
                	</label>
                	<br />
                	<label>
	                	<input type="radio" name="date" ng-model="params.date.range" value="previousMonth" />
	                	Previous month
                	</label>
                	<br />
                	<label>
	                	<input type="radio" name="date" ng-model="params.date.range" value="currentMonth" />
	                	Current month
                	</label>
                	<br />
                	<label>
	                	<input type="radio" name="date" ng-model="params.date.range" value="custom" />
	                	Custom
                	</label>
				</div>
				<div class="col-xs-12 col-md-8">
					<div class="row" ng-show="params.date.range.toLowerCase().indexOf('month') == -1">
						<label class="control-label">
							<div class="col-md-2">
								Start:
							</div>
							<div class="col-md-8">
								<input class="form-control datepicker" type="text" data-date-format="yyyy-mm-dd" data-provide="datepicker"
									ng-model="params.date.start" />
							</div>
						</label>
					</div>
					<div class="row" ng-show="params.date.range == 'custom'">
						<label class="control-label">
							<div class="col-md-2">
								End:
							</div>
							<div class="col-md-8">
								<input class="form-control datepicker" type="text" data-date-format="yyyy-mm-dd" data-provide="datepicker"
									ng-model="params.date.end" />
							</div>
						</label>
					</div>
					<div class="row" ng-show="params.date.range == 'month'">
						<label class="control-label">
							<div class="col-md-6">
								<select class="form-control" ng-model="params.date.month" ng-options="m.name for m in months"></select>
							</div>
							<div class="col-md-6">
								<select class="form-control" ng-model="params.date.year" ng-options="y for y in years"></select>
							</div>
						</label>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row padded-row parameters" style="margin-top: 20px;">
		<div class="col-md-12 well">
			<div>
				<h3>Select fields you want to see in your report</h3>
			</div>
			<br />
			<div>
				<label>
					<input type="checkbox" ng-change="selectAllFields();" ng-model="params.fields.all" />
					All fields
				</label>
			</div>
			<div class="row groups">
				<div class="col-xs-12 col-md-4">
					<h5>PROJECT HOURS</h5>
					<br />
					<label>
						<input type="checkbox" ng-change="selectAllProjectHours(params.fields.projectHours.all);" ng-model="params.fields.projectHours.all" />
						All project hours
					</label>
					<br />
					<div style="margin-left: 20px;">
						<label>
							<input type="checkbox" ng-model="params.fields.projectHours.projectedClientHrs" />
							Projected client hours
						</label>
						<br />
						<label>
							<input type="checkbox" ng-model="params.fields.projectHours.projectedInvestHrs" />
							Projected invest hours
						</label>
						<br />
						<label>
							<input type="checkbox" ng-model="params.fields.projectHours.actualClientHrs" />
							Actual client hours
						</label>
						<br />
						<label>
							<input type="checkbox" ng-model="params.fields.projectHours.actualInvestmentHrs" />
							Actual invest hours
						</label>
						<br />
						<label>
							<input type="checkbox" ng-model="params.fields.projectHours.outOfOffice" />
							Out of office
						</label>
						<br />
						<label>
							<input type="checkbox" ng-model="params.fields.projectHours.overhead" />
							Overhead
						</label>
						<br />
						<label>
							<input type="checkbox" ng-model="params.fields.projectHours.projectedClientUtilization" />
							Projected client utilization
						</label>
						<br />
						<label>
							<input type="checkbox" ng-model="params.fields.projectHours.projectedInvestUtilization" />
							Projected invest utilization
						</label>
						<br />
						<label>
							<input type="checkbox" ng-model="params.fields.projectHours.actualClientUtilization" />
							Actual client utilization
						</label>
						<br />
						<label>
							<input type="checkbox" ng-model="params.fields.projectHours.actualInvestUtilization" />
							Actual invest utilization
						</label>
						<br />
						<label>
							<input type="checkbox" ng-model="params.fields.projectHours.outOfOfficeUtilization" />
							Out of office utilization
						</label>
						<br />
						<label>
							<input type="checkbox" ng-model="params.fields.projectHours.overheadUtilization" />
							Overhead Utilization
						</label>
					</div>
				</div>
				<div class="col-xs-12 col-md-4">
					<h5>PEOPLE HOURS</h5>
					<br />
						<label>
							<input type="checkbox" ng-model="params.fields.peopleHours.peopleOnClient" />
							People on client
						</label>
						<br />
						<label>
							<input type="checkbox" ng-model="params.fields.peopleHours.peopleOnInvest" />
							People on invest
						</label>
						<br />
						<label>
							<input type="checkbox" ng-model="params.fields.peopleHours.utilizationByRole" />
							Utilization by role
						</label>
					<br />
					<br />
					<h5>PROJECTIONS</h5>
					<br />
					<label>
						<input type="checkbox" ng-model="params.fields.projectionHours.clientHrs" />
						Client Hours
					</label>
					<br />
					<label>
						<input type="checkbox" ng-model="params.fields.projectionHours.investHrs" />
						Invest Hours
					</label>
					<br />
					<label>
						<input type="checkbox" ng-model="params.fields.projectionHours.outOfOffice" />
						Out of Office
					</label>
					<br />
					<label>
						<input type="checkbox" ng-model="params.fields.projectionHours.overhead" />
						Overhead
					</label>
				</div>
				<div class="col-xs-12 col-md-4">
					<h5>GRAPHS</h5>
					<br />
					<label>
						<input type="checkbox" ng-change="selectAllGraphPercentHours(params.fields.graphs.percent.all);" ng-model="params.fields.graphs.percent.all" />
						% hours in category, incl. client and invest
					</label>
					<br />
					<div style="margin-left: 20px;">
						<label>
							<input type="checkbox" ng-model="params.fields.graphs.percent.overhead" />
							overhead as % of available hours
						</label>
						<br />
						<label>
							<input type="checkbox" ng-model="params.fields.graphs.percent.out" />
							out of office as % of available hours
						</label>
					</div>
					<label>
						<input type="checkbox" ng-model="params.fields.graphs.trendHrs" />
						Trend line - category hours x month
					</label>
					<br />
					<label>
						<input type="checkbox" ng-model="params.fields.graphs.trendGoals" />
						Trend line - % category hours, incl. goals x month
					</label>
					<br />
					<label>
						<input type="checkbox" ng-model="params.fields.graphs.graph" />
						Hours bar graph - expected, actual, projected
					</label>
				</div>
			</div>
		</div>
	</div>
	<div class="row padded-row parameters" style="margin-top: 20px;">
		<div class="col-md-4">
			<div class="well" style="margin-left: -15px; margin-right: 20px;">
				<div >
					<h3>Select at least one output</h3>
				</div>
				<br />
				<div>
					You will see the report as a webpage by default.
					You can choose external outputs or select none and only see the report within MasterMind.
				</div>
				<br />
				<div class="groups">
					<label>
						<input type="radio" name="output" ng-model="params.output" value="csv" />
						CSV, no graphs
					</label>
					<br />
					<label>
						<input type="radio" name="output" ng-model="params.output" value="both" />
						CSV & Graphs
					</label>
					<br />
					<label>
						<input type="radio" name="output" ng-model="params.output" value="graphs" />
						Graphs only
					</label>
				</div>
			</div>
		</div>
		<div class="col-md-4">
			<div class="well" style="margin-left: -15px; margin-right: 20px;">
				<div >
					<h3>Favorite this report</h3>
				</div>
				<br />
				<div>
					You can favorite this report, which means you can run it whenever you need from your report dashboard without having to recreate it.
					You can name the report to differentiate it from other saved reports.
				</div>
				<br />
				<div class="groups">
					<label>
						Name this report
						<br />
						<input class="form-control" ng-model="params.reportName" type="text" />
					</label>
				</div>
				<div ng-show="messageForFavorites && messageForFavorites.length > 0" class="alert alert-success">
				  <span>{{messageForFavorites}}</span> <i class="fa fa-times pull-right cursor-pointer" ng-click="clearMessage()"></i></li>
				</div>
			</div>
		</div>
		<div class="col-md-3">
			<button class="btn" ng-click="save()" ng-disabled="!params.reportName">Save Report</button>
			<br />
			<br />
			<button class="btn" ng-click="saveAndCreate()" ng-disabled="!params.reportName">Save & Create Report</button>
			<br />
			<br />
			<button class="btn" ng-click="reportHandler.generate($event)" ng-hide="isGenerationInProgress">Create Report</button>
		</div>
	</div>
</div>