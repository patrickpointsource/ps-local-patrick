<div class="row">
	<div class="col-xs-12 col-sm-4 form-group"
		ng-class="{error: isFieldInError('role')}">
		<label class="required-label control-label" for="role">Role:</label> <select
			name="role" id="role" class="col-xs-12 form-control"
			ng-model="newRole.type.resource" ng-change="handleRoleTypeChanged()"
			ng-required="true"
			ng-options="m.resource as m.title for m in roleTypes | orderBy:'title'">
		</select>
	</div>
	<div class="col-xs-12 col-sm-4 form-group"
		ng-class="{error: isFieldInError('roleStartDate')}">
		<label class="required-label control-label" for="roleStartDate">
			Start Date: <span class="text-muted">{{project.startDate}}</span>
		</label> <input id="roleStartDate" name="roleStartDate"
			class="form-control datepicker" type="text"
			ng-model="newRole.startDate"
			data-date-start-date="{{project.startDate}}"
			data-date-end-date="{{project.endDate}}" todayBtn="true"
			data-provide="datepicker" data-date-format="yyyy-mm-dd"
			ng-required="true">
	</div>
	<div class="col-xs-12 col-sm-4 form-group">
		<label for="roleEndDate">End Date: <span class="text-muted">{{project.endDate}}</span></label>
		<input id="roleEndDate" class="form-control datepicker" type="text"
			ng-model="newRole.endDate"
			data-date-start-date="{{project.startDate}}"
			data-date-end-date="{{project.endDate}}" todayBtn="true"
			data-provide="datepicker" data-date-format="yyyy-mm-dd">
	</div>
</div>

<!--
 TODO: Convert to Angular UI tabs component.

 Currently we can't do this because of a bug in Angular UI Bootstrap which prevents nested tabs.

 There is an open ticket under:
 https://github.com/angular-ui/bootstrap/issues/783
 -->

<div class="row">
	<div class="col-xs-12 col-sm-8 col-md-9">
		<div class="col-xs-12">
			<label for="rateChoices" class="inline">Rate:</label>
			<div id="rateChoices" class="inline form-inline">
				<label class="radio-inline"> <input type="radio"
					value="hourly" ng-model="newRole.rate.type" ng-change="refreshAdvAmount()">Hourly
				</label> <label class="radio-inline"> <input type="radio"
					value="weekly" ng-model="newRole.rate.type" ng-change="refreshAdvAmount()">Weekly
				</label> <label class="radio-inline"> <input type="radio"
					value="monthly" ng-model="newRole.rate.type" ng-change="refreshAdvAmount()">Monthly
				</label>
			</div>
		</div>
		<div class="col-xs-12 well">
			<div id="hourlyControls" ng-if="newRole.rate.type=='hourly'"
				ng-show="newRole.rate.type=='hourly'">
				<div class="row">

					<div class="col-xs-12 col-sm-4 form-group" ng-if="financeAccess">
						<label for="currentHourlyRate">Published Rate (USD/hour):</label> 
						<input
							id="hourlyHourlyAdvRate" class="form-control"
							placeholder="Enter Advertised Hourly Rate" type="number" min="0"
							ng-model="newRole.rate.advAmount">
						(USD/Hour){{newRole.rate.advAmount | currency}} <br/>
						<input type="submit" class="btn"
						value="Click to refresh" ng-click="refreshAdvAmount()" />
					</div>
					<div class="col-xs-12 col-sm-4 form-group" ng-if="financeAccess">
						<label for="hourlyHourlyRate">Project Rate (USD/hour):</label> <input
							id="hourlyHourlyRate" class="form-control"
							placeholder="Enter Hourly Rate" type="number" min="0"
							ng-model="newRole.rate.amount">
						(USD/Hour){{newRole.rate.amount | currency}}
					</div>

					<div class="col-xs-12 col-sm-4 form-group">
						<label for="hourlyHours">Hours/Month:</label> <input
							id="hourlyHours" class="form-control"
							placeholder="Enter Hours per Month" type="number"
							ng-model="newRole.rate.hoursPerMth">
					</div>

					<div class="col-xs-12 col-sm-4 form-group">
						<label>Utilization:</label>
						<div class="checkbox">
							<label> <input type="checkbox"
								ng-model="newRole.rate.fullyUtilized"> 100% Utilized
							</label>
						</div>
					</div>
				</div>
			</div>

			<div id="weeklyControls" ng-if="newRole.rate.type=='weekly'"
				ng-show="newRole.rate.type=='weekly'">
				<div class="row">
					<div class="col-xs-12 col-sm-4 form-group" ng-if="financeAccess">
						<label for="currentHourlyRate">Published Rate (USD/hour):</label> 
						<input
							id="weeklyHourlyAdvRate" class="form-control"
							placeholder="Enter Advertised Hourly Rate" type="number" min="0"
							ng-model="newRole.rate.advAmount">
						(USD/Hour){{newRole.rate.advAmount | currency}} <br/>
						<input type="submit" class="btn"
						value="Click to refresh" ng-click="refreshAdvAmount()" />
					</div>
					<div class="col-xs-12 col-sm-4 form-group" ng-if="financeAccess">
						<label for="weeklyHourlyRate">Project Rate (USD/hour):</label> <input
							id="weeklyHourlyRate" class="form-control"
							placeholder="Enter Hourly Rate" min="0" type="number"
							ng-model="newRole.rate.amount">
						(USD/Hour){{newRole.rate.amount | currency}}
					</div>

					<div class="col-xs-12 col-sm-4 form-group">
						<label for="weeklyHours">Hours/Week:</label> <input
							id="weeklyHours" class="form-control"
							placeholder="Enter Hours per Week" type="number"
							ng-model="newRole.rate.hoursPerWeek">
					</div>

					<div class="col-xs-12 col-sm-4 form-group">
						<label>Utilization:</label>
						<div class="checkbox">
							<label> <input type="checkbox"
								ng-model="newRole.rate.fullyUtilized"> 100% Utilized
							</label>
						</div>
					</div>
				</div>
			</div>

			<div id="monthlyControls" ng-if="newRole.rate.type=='monthly'"
				ng-show="newRole.rate.type=='monthly'">
				<div class="row">
					<div class="col-xs-12 col-sm-4 form-group" ng-if="financeAccess">
						<label for="currentMonthlyRate">Published Rate (USD/month):</label> 
						<input
							id="monthlyAdvRate" class="form-control"
							placeholder="Enter Advertised Monthly Rate" type="number" min="0"
							ng-model="newRole.rate.advAmount">
						(USD/Hour){{newRole.rate.advAmount | currency}} <br/>
						<input type="submit" class="btn"
						value="Click to refresh" ng-click="refreshAdvAmount()" />
					</div>
					<div class="col-xs-12 form-group" ng-if="financeAccess">
						<label for="monthlyRate">Project Rate (USD/month):</label> <input
							id="monthlyRate" class="form-control"
							placeholder="Enter Hours per Month" type="number"
							ng-model="newRole.rate.amount">
						(USD/Month){{newRole.rate.amount | currency}}
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="col-xs-12 col-sm-4 col-md-3 form-group">
		<label for="shoringOptions" class="inline">Shoring:</label>
		<div id="shoringOptions" class="inline form-inline">
			<label class="radio-inline"> <input type="radio" value="on"
				ng-model="newRole.shore">Onshore
			</label> <label class="radio-inline"> <input type="radio" value="off"
				class="radio-inline" ng-model="newRole.shore">Offshore
			</label>
		</div>
	</div>
</div>

<div class="row">
	<div class="col-xs-12">
		<input type="submit" class="btn" value="Add" ng-click="add()"
			ng-show="editRoleIndex==null" /> <input type="submit" class="btn"
			value="Save" ng-click="save()" ng-show="editRoleIndex!=null" /> <input
			type="submit" class="btn" value="Cancel" ng-click="cancelAdd()" />
	</div>
</div>