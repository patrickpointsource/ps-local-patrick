<br />
<div id="dashboard-widgets" class="row">
		<div class="row-fluid">
			<div ng-if="hasActiveProjects"
				class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
				<div class="panel panel-default dashboard-widget">
					<div class="panel-heading">
						<a href="#{{me.about}}">My Current Projects</a>
					</div>
					<div class="panel-body">
						<ul ng-repea>
							<li ng-repeat="project in myActiveProjects"><a
								ng-href="#{{project.resource}}"><i class="{{projectStateIcon(project)}}"></i> {{project.customerName}}: {{project.name}}</a></li>
						</ul>
					</div>
				</div>
				<div class="panel panel-default dashboard-widget">
					<div class="panel-heading">
						<a href="#{{me.about}}">Log Hours</a>
						<div class="pull-right  btn-group btn-group-sm dashboard-actions">
							<button class="btn btn-default" data-toggle="collapse"
								data-target="#logHours">
								<div>
									<i class="fa fa-plus-square"></i>
								</div>
							</button>
						</div>
					</div>
					<div id="logHours" class="panel-body collapse out">
						<div class="row">
							<div class="col-xs-4">
								<label class="control-label">Person: </label> <span
									style="white-space: nowrap; overflow: hidden;">{{me.name}}</span>
							</div>
							<div class="col-xs-8">
								<label class="required-label control-label" for="project">Project:</label>
								<select name="project" id="project"
									class="col-xs-12 form-control"
									ng-model="newHoursRecord.project.resource" ng-required="true"
									ng-options="p.resource as p.name for p in hoursProjects">
								</select>
							</div>
						</div>
						<br />
						<div class="row">
							<div class="col-xs-6">
								<label class="required-label  control-label" for="hours">Hours:</label>
								<input id="hours" name="hours" class="form-control"
									type="number" ng-model="newHoursRecord.hours"
									ng-required="true" />
							</div>
							<div class="col-xs-6">
								<label class="required-label control-label" for="date">Date:</label>
								<input id="date" name="date" class="form-control datepicker"
									type="text" ng-model="newHoursRecord.date" todayBtn="true"
									data-provide="datepicker" data-date-format="yyyy-mm-dd"
									ng-required="true" />
							</div>
						</div>
						<br />
						<div class="row">
							<div class="col-xs-12">
								<label class="required-label  control-label" for="hours">Description:</label>
								<textarea id="hours" name="hours" rows="5" class="form-control"
									ng-model="newHoursRecord.description" ng-required="true"></textarea>
							</div>
						</div>
						<br />
						<div class="row">
							<div class="col-xs-12">
								<input type="submit" class="btn" value="Add"
									ng-click="addHours()">
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
				<div class="panel panel-default dashboard-widget">
					<div class="panel-heading">
						<a href="#projects?filter=active"><i class="fa fa-rocket"></i> Active Projects</a>
						<div class="pull-right  btn-group btn-group-sm dashboard-actions">
							<button class="btn btn-default" ng-click="createProject()">
								<div>
									<i class="fa fa-plus-square"></i>
								</div>
							</button>
						</div>
					</div>
					<div class="panel-body">
						<div class="dashboard-box big-text fa-5x text-center"
							ng-click="showActiveProjects()">{{projectCount}}</div>
					</div>
				</div>
			</div>
			<div class="col-xs-12 col-sm-12 col-md-4 col-lg-6" ng-if="adminAccess">
				<div class="panel panel-default dashboard-widget">
					<div class="panel-heading">
						Booking Forecast
						<div class="checkbox pull-right" style="margin-top:0px">
						    <label>
						      <input type="checkbox" ng-model="bfShowPipeline" ng-change="handleFBShowPipeline(bfShowPipeline)"> Show Pipeline
						    </label>
						  </div>
					</div>
					<div class="panel-body">
						<div style="max-height:400px">
							<linechart  data="data" options="options" mode=""></linechart>
						</div>
					</div>
				</div>
			</div>
			<div class="col-xs-12 col-sm-12 col-md-4 col-lg-6">
				<div class="panel panel-default dashboard-widget">
					<div class="panel-heading trim-bottom-padding">
						<div class="row">
							<div class="col-xs-4 col-sm-6 col-md-4 col-lg-8">
								<a href="#/people/"><i class="fa fa-users"></i> People</a>
							</div>
							<div class="col-xs-8 col-sm-6 col-md-8 col-lg-4 dashboard-actions">
								<select class="pull-right btn-group-sm  form-control" ng-model="peopleFilter" ng-change="handlePeopleFilterChanged()">
									<option value="" selected>Filter By Role</option>
							       <option ng-repeat="roleOption in rolesFilterOptions | orderBy:'title'" value="{{roleOption.resource}}" ng-selected="peopleFilter === roleOption.resource">{{roleOption.title}}</option>
							    </select>
						    </div>
						</div>
					</div>
					<div class="panel-body">
						<div class="dashboard-box  three-rows">
							<div class="row-fluid">
								<div class="col-xs-4 col-sm-2 col-md-3 col-lg-2"
									ng-repeat="person in availablePeople">
									<a href="#{{person.resource}}"> <img alt="{{person.name}}"
										title="{{person.name}}" ng-src="{{person.thumbnail}}" />
									</a>
								</div>
							</div>
						</div>
						<div class="row clearfix">
							<div class="col-xs-12 text-center">
								<br/>
								<button class="btn btn-default btn-md" ng-click="handleShowPeopleClick()">Show All <i class="fa fa-chevron-right"></i></button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>


<div class="row">
	<div class="col-xs-12">
		<div class="panel panel-default dashboard-widget">
			<div class="panel-heading">
				<a href="#projects"><i class="fa fa-briefcase"></i> Current Projects</a>
			</div>
			<div class="panel-body">
				<div class="graph">
					<div id="projectsSummaryGraph">
						<div class="row" ng-repeat="project in qvProjects | orderBy:'customerName'">
							<div class="title">
								<a href="#{{project.resource}}"><i class="{{projectStateIcon(project)}}"></i> {{project.customerName}}: {{project.name}}</a>
							</div>
							<div class="progress">
								<div class="col-xs-2"
									ng-class="{active: inMonth(project, startDate.getMonth(), startDate.getFullYear())}"> {{getMonthName(startDate.getMonth())}}</div>
								<div class="col-xs-2"
									ng-class="{active: inMonth(project, startDate.getMonth()+1, startDate.getFullYear())}">{{getMonthName(startDate.getMonth()+1)}}</div>
								<div class="col-xs-2"
									ng-class="{active: inMonth(project, startDate.getMonth()+2, startDate.getFullYear())}">{{getMonthName(startDate.getMonth()+2)}}</div>
								<div class="col-xs-2"
									ng-class="{active: inMonth(project, startDate.getMonth()+3, startDate.getFullYear())}">{{getMonthName(startDate.getMonth()+3)}}</div>
								<div class="col-xs-2"
									ng-class="{active: inMonth(project, startDate.getMonth()+4, startDate.getFullYear())}">{{getMonthName(startDate.getMonth()+4)}}</div>
								<div class="col-xs-2"
									ng-class="{active: inMonth(project, startDate.getMonth()+5, startDate.getFullYear())}">{{getMonthName(startDate.getMonth()+5)}}</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="row">
	<div class="col-xs-12">
		<div class="panel panel-default dashboard-widget">
			<div class="panel-heading">
				Current Assignments
			</div>
			<div class="panel-body">
				<div class="graph">
					<div class="peopleList" style="margin-bottom:5px" ng-repeat="person in qvPeople | orderBy:'givenName'"
						ng-show="qvPeople">
						<div>
               				<a href="#{{person.resource}}"><img title="{{person.name}}" class="profileImage" ng-src="{{person.thumbnail}}"/> {{person.name}}</a>
						</div>
						
						<div>
							<div 
								ng-repeat="assignment in qvPeopleAssignments[person.resource] track by $index">
								<div class="title">
									<a href="#{{assignment.project.resource}}/assignments"><i class="{{projectStateIcon(assignment.project)}}"></i> {{assignment.percentage}}% {{assignment.project.customerName}}: {{assignment.project.name}}</a>
								</div>
								<div class="progress">
									<div class="col-xs-2"
										ng-class="{active: isPersonActiveInMonth(assignment, person, startDate.getMonth(), startDate.getFullYear())}">{{getMonthName(startDate.getMonth())}}</div>
									<div class="col-xs-2"
										ng-class="{active: isPersonActiveInMonth(assignment, person, startDate.getMonth()+1, startDate.getFullYear())}">{{getMonthName(startDate.getMonth()+1)}}</div>
									<div class="col-xs-2"
										ng-class="{active: isPersonActiveInMonth(assignment, person, startDate.getMonth()+2, startDate.getFullYear())}">{{getMonthName(startDate.getMonth()+2)}}</div>
									<div class="col-xs-2"
										ng-class="{active: isPersonActiveInMonth(assignment, person, startDate.getMonth()+3, startDate.getFullYear())}">{{getMonthName(startDate.getMonth()+3)}}</div>
									<div class="col-xs-2"
										ng-class="{active: isPersonActiveInMonth(assignment, person, startDate.getMonth()+4, startDate.getFullYear())}">{{getMonthName(startDate.getMonth()+4)}}</div>
									<div class="col-xs-2"
										ng-class="{active: isPersonActiveInMonth(assignment, person, startDate.getMonth()+5, startDate.getFullYear())}">{{getMonthName(startDate.getMonth()+5)}}</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

</div>
</div>