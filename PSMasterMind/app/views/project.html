<div class="container">
	<div class="row">
  		<div class="col-xs-8"><h1>Master Mind: New Project</h1></div>
  		<div id="pageActions" class="actions col-xs-4">
  			<button class="btn" ng-click="save()">Save</button>
  		</div>
	</div>
	<div class="tab-panes">
		<ul class="nav nav-tabs">
			<li ng-class="{active: activeTab == 'details'}"><a ng-click="showDetails()" data-toggle="tab">Details</a></li>
			<li ng-class="{active: activeTab == 'roles'}"><a ng-click="showRoles()" data-toggle="tab">Roles</a></li>
			<li ng-class="{active: activeTab == 'assignments'}"><a ng-click="showAssignments()" data-toggle="tab">Assignments</a></li>
			<li ng-class="{active: activeTab == 'summary'}"><a ng-click="showSummary()" data-toggle="tab">Summary</a></li>
		</ul>

		<div class="tab-content">
		    <div id="details" class="tab-pane" ng-class="{active: activeTab == 'details'}">
		    	<form name="ProjectForm" class="projectForm">
		    		<fieldset>
						<div class="row">
							<div class="col-xs-6">
								<label class="required-label">* Customer Name:</label>
								<div class="input-insert-right full">
									<input type="text" class="col-xs-12" placeholder="Customer Name" name="customerName" ng-model="project.customerName" required>
									<span class="add-in"><i class="fa fa-user input-icon"></i></span>
								</div>
							</div>
							<div class="col-xs-6">
								<label>Type:</label>
								<label class="radio inline"><input type="radio" value="paid" ng-model="project.type" />Paid</label>
								<label class="radio inline"><input type="radio" value="poc" ng-model="project.type" />PoC</label>
								<label class="radio inline"><input type="radio" value="invest" ng-model="project.type" />PS Invest</label>
							</div>
						</div>
						<div class="row">
							<div class="col-xs-6">
								<label class="required-label">* Project Name:</label>
								<input type="text" class="col-xs-12" placeholder="Project Name" name="projectName" ng-model="project.name" required>
							</div>
							<div class="col-xs-6">
								<label>Primary Contact:</label>
								<input type="email" class="col-xs-12" placeholder="Primary Contact" name="primaryContact" ng-model="project.primaryContact">
							</div>
						</div>
						<div class="row">
							<div class="col-xs-12">
								<label>Project Description:</label>
								<textarea class="col-xs-12" rows="7" name="description" ng-model="project.description"></textarea><br/>
							</div>
						</div>
						<div class="row">
							<div class="col-xs-3">
								<label class="required-label" for="startDate">* Start Date:</label>
								<div class="input-insert-right">
									<input type="text" ng-model="project.startDate" datepicker-popup="MM/dd/yyyy" ng-required="true" />
									<span class="add-in"><i class="fa fa-calendar input-icon"></i></span>
								</div>
							</div>
							<div class="col-xs-3">
								<label for="endDate">End Date:</label>
								<div class="input-insert-right">
									<input type="text" ng-model="project.endDate" datepicker-popup="MM/dd/yyyy" />
									<span class="add-in"><i class="fa fa-calendar input-icon"></i></span>
								</div>
							</div>
					    </div>

					    <div class="row">
					    	<div class="col-xs-3">
					    		<label for="projectState">Project State:</label>
					    		<select id="projectState" ng-model="project.state">
					    			<option value="preSales">Pre-Sales</option>
					    			<option value="planning">Planning</option>
					    			<option value="clientActive">Client Active</option>
					    			<option value="supportActive">Support Active</option>
					    			<option value="complete">Done!</option>
					    		</select>
					    	</div>
					    </div>
					    <div class="well">
						    <div class="row">
						    	<div class="col-xs-3">
						    		<label for="totalEstimatedValue">Total Estimated Value:</label>
						    		<div class="input-insert-left">
						    			<span class="add-in"><i class="fa fa-dollar input-icon"></i></span>
						    			<input id="totalEstimatedValue" type="number" ng-model="project.terms.totalEstValue" />
						    		</div>
						    	</div>

						    	<div class="col-xs-3">
						    		<label>&nbsp;</label>
						    		<label class="checkbox inline"><input type="checkbox" ng-model="project.terms.includesProjectManagementOverhead" />Project Includes PM Overhead</label>
						    	</div>
							</div>
							<div class="row">
								<div class="col-xs-3">
						    		<label>Bid Terms:</label>
							    	<label class="radio inline"><input type="radio" value="timeAndMaterials" ng-model="project.terms.type" />Time &amp; Materials</label>
							    	<label class="radio inline"><input type="radio" value="fixed" ng-model="project.terms.type" />Fixed</label>
								</div>
							</div>
					    </div>
						<div class="row">
							<div class="col-xs-3">
								<label class="required-label">* Executive Sponsor:</label>
								<select placeholder="Executive Sponsor" ng-model="project.executiveSponsor" ng-required="true" >
									<option value="chris.hugill@pointsourcellc.com">Chris Hugill</option>
									<option value="kevin.hugill@pointsourcellc.com">Kevin Hugill</option>
									<option value="erik.burckart@pointsourcellc.com">Erik Burkart</option>
									<option value="sltrunzo@pointsourcellc.com">Stephanie Trunzo</option>
								</select>
							</div>
							<div class="col-xs-3">
								<label>Sales Sponsor:</label>
								<select ng-model="project.salesSponsor" >
									<option value="luke.langford@pointsourcellc.com">Luke Langford</option>
									<option value="david.acomb@pointsourcellc.com">Dave Acomb</option>
									<option value="lorrie.garbarz@pointsourcellc.com">Lorrie Garbarz</option>
								</select>
							</div>
						</div>
					</fieldset>
		    	</form>
		    </div>

			<div id="roles" class="tab-pane" ng-class="{active: activeTab == 'roles'}">
		    	<form name="ProjectForm" class="projectForm" ng-controller="RolesCtrl" ng-submit="add()">
		    		<fieldset>
		    			<section class="well">
			    			<h3>Add Role</h3>

			    			<div class="row">
			    				<div class="col-xs-4">
			    					<label>Role:</label>
			    					<select ng-model="newRole.title" >
										<option value="SSA">Senior Software Architect</option>
										<option value="PM">Project Manager</option>
										<option value="BA">Business Analyst</option>
										<option value="SSE">Senior Software Engineer</option>
										<option value="SE">Senior Engineer</option>
										<option value="SUXD">Senior User Experience Designer</option>
										<option value="UXD">User Experience Designer</option>
									</select>
			    				</div>
								<div class="col-xs-4">
									<label class="required-label">* Start Date:</label>
									<div class="input-insert-right">
										<input type="text" ng-model="newRole.startDate" datepicker-popup="MM/dd/yyyy" ng-required="true" />
										<span class="add-in"><i class="fa fa-calendar input-icon"></i></span>
									</div>
								</div>
								<div class="col-xs-4">
									<label>End Date:</label>
									<div class="input-insert-right">
										<input type="text" ng-model="newRole.endDate" datepicker-popup="MM/dd/yyyy" />
										<span class="add-in"><i class="fa fa-calendar input-icon"></i></span>
									</div>
								</div>
			    			</div>

			    			<div class="row">
				    			<div class="tab-panes tabs-left col-xs-6">
					    			<div class="nav nav-tabs">
					    				<li ng-class="{active: newRoleRateType == 'hourly'}"><a ng-click="changeRateType('hourly')" data-toggle="tab">Hourly</a></li>
					    				<li ng-class="{active: newRoleRateType == 'weekly'}"><a ng-click="changeRateType('weekly')" data-toggle="tab">Weekly</a></li>
					    				<li ng-class="{active: newRoleRateType == 'monthly'}"><a ng-click="changeRateType('monthly')" data-toggle="tab">Monthly</a></li>
					    			</div>
					    			<div class="tab-content">
						    			<section id="hourlyControls" class="tab-pane" ng-class="{active: newRoleRateType == 'hourly'}">
				    						<div class="row">
												<div class="col-xs-12">
													<label>Hourly Rate:</label>
													<input placeholder="Enter Hourly Rate" type="number" ng-model="newRole.rate.amount"/>
												</div>
											</div>
											<div class="row">
												<div class="col-xs-12">
													<label>Hours/Month:</label>
													<input placeholder="Enter Hours per Month" type="number" ng-model="newRole.rate.hoursPerMonth"/>
												</div>
											</div>
											<div class="row">
												<div class="col-xs-12">
													<label>Utilization:</label>
													<label class="checkbox">
														<input type="checkbox" ng-model="newRole.rate.fullyUtilized"/>
														100% Utilized
													</label>
												</div>
							    			</div>
										</section>
										<section id="weeklyControls" class="tab-pane" ng-class="{active: newRoleRateType == 'weekly'}">
				    						<div class="row">
												<div class="col-xs-12">
													<label>Hourly Rate:</label>
													<input placeholder="Enter Hourly Rate" type="number" ng-model="newRole.rate.amount"/>
												</div>
											</div>
											<div class="row">
												<div class="col-xs-12">
													<label>Hours/Week:</label>
													<input placeholder="Enter Hours per Month" type="number" ng-model="newRole.rate.hoursPerWeek"/>
												</div>
											</div>
											<div class="row">
												<div class="col-xs-12">
													<label>Utilization:</label>
													<label class="checkbox">
														<input type="checkbox" ng-model="newRole.rate.fullyUtilized"/>
														100% Utilized
													</label>
												</div>
							    			</div>
										</section>
										<section id="monthlyControls" class="tab-pane" ng-class="{active: newRoleRateType == 'monthly'}">
				    						<div class="row">
												<div class="col-xs-12">
													<label>Monthly Rate:</label>
													<input placeholder="Margin" type="number" ng-model="newRole.rate.amount"/>
												</div>
							    			</div>
										</section>
									</div>
								</div>

								<div class="col-xs-6">
									<label>Shoring:</label>
									<label class="radio"><input type="radio" value="on" ng-model="newRole.shore" />Onshore</label>
									<label class="radio"><input type="radio" value="off" ng-model="newRole.shore" />Offshore</label>
								</div>
							</div>

					    	<div class="row">
					    		<div class="col-xs-12">
							    	<input type="submit" class="btn" value="Add Role" />
							    </div>
						    </div>
						</section>

						<h3>Current Roles</h3>
						<div class="row">
							<div class="col-xs-12">
								<table ng-table="roleTableParams"  class="table">
								    <tr ng-repeat="role in project.roles">
								        <td data-title="'Role'">{{role.title}}</td>
								        <td data-title="'100%'"><input type="checkbox" ng-model="role.rate.fullyUtilized"/></td>
								   		<td data-title="'H/M'">{{role.rate.hoursPerMonth}}</td>
								   		<td data-title="'Start Date'">{{role.startDate | date:'longDate'}}</td>
								   		<td data-title="'End Date'">{{role.endDate | date:'longDate'}}</td>
								    </tr>
							    </table>
						    </div>
				    	</div>
		    		</fieldset>
		    	</form>
			</div>

		    <div id="assignments" class="tab-pane" ng-class="{active: activeTab == 'assignments'}">
		    	<form name="ProjectForm" class="projectForm">
		    		<fieldset class="form-horizontal">
						<div class="row">
							<div class="col-xs-12">
								<h3>Current Roles</h3>
								<table ng-table="roleTableParams"  class="table">
								    <tr ng-repeat="role in project.roles">
								        <td data-title="'Role'">{{role.title}}</td>
								        <td data-title="'100%'"><input type="checkbox" ng-model="role.rate.fullyUtilized"/></td>
								   		<td data-title="'H/M'">{{role.rate.hoursPerMonth}}</td>
								   		<td data-title="'Start Date'">{{role.startDate | date:'longDate'}}</td>
								   		<td data-title="'End Date'">{{role.endDate | date:'longDate'}}</td>
								   		<td data-title="'Person Assigned'">
								   			<select ng-model="role.assignee">
												<option ng-repeat="person in people | filter:{primaryRole:role.title}" value="{{person.nick}}">{{person.name}}</option>
								   			</select>
								   		</td>
								    </tr>
							    </table>
						    </div>
				    	</div>
		    		</fieldset>
		    	</form>
		    </div>

		    <div id="summary" class="tab-pane" ng-class="{active: activeTab == 'summary'}">
		    	<form name="ProjectForm" class="projectForm">
		    		<fieldset>
						<div class="row">
							<h4 class="col-xs-4">{{project.customerName}}</h4>
							<h3 class="col-xs-4">{{project.name}}</h3>
							<div class="col-xs-4">
								{{project.startDate | date}} to {{project.endDate | date}}
						    </div>
				    	</div>
				    	<div class="row">
				    		<div class="col-xs-12" ng-bind-html="project.description | markdown">
				    		</div>
				    	</div>
				    	<div class="row">
				    		<div class="col-xs-12">
				    			<div class="well">
				    				{{project.terms.totalEstValue}}
				    			</div>
				    		</div>
				    	</div>
				    	<div class="row">
				    		<div class="col-xs-12">
				    			<table ng-table="roleTableParams"  class="table">
								    <tr ng-repeat="role in project.roles">
								        <td data-title="'Role'">{{role.title}}</td>
								   		<td data-title="'Resource'">{{role.assignee}}</td>
								    </tr>
							    </table>
				    		</div>
				    	</div>
		    		</fieldset>
		    	</form>
		    </div>
		</div>
  	</div>
</div>