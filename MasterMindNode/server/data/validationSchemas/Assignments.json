{
	"type":"object",
	"$schema": "http://json-schema.org/draft-04/schema",
	"id": "Assignments",
	"properties":{
		"_id": {"type":"string"},
		"_rev": {"type":"string"},
		"_deleted": {"type":"boolean"},
		"etag": {"type": ["string", "number"]},
		"form": {"enum": ["Assignments"]},
		"about": {"type":"string"},
		"resource": {"type":"string"},
		"members": {"$ref": "#/definitions/members"},
		"project": { "$ref": "#/definitions/resource"},
		"excludedMembers": {"$ref": "#/definitions/members"}
	},
	"required":["form", "project"],
	"definitions": {
		"resource": {
			"type":"object",
			"properties":{
				"resource": {"type":"string"},
				"name": {"type":"string"}
			},
			"required": ["resource"]
		},
	"members": {
		"type":"array",
		"items":
			{
				"type":"object",
				"properties":{
					"hoursPerWeek": {"type":"number"},
					"isCurrent": {"type":"boolean"},
					"isFuture": {"type":"boolean"},
					"isPast": {"type":"boolean"},
					"percentage": {"type":"number"},
					"person": { "$ref": "#/definitions/resource"},
					"project": { "$ref": "#/definitions/resource"},
					"role": { "$ref": "#/definitions/resource"},
					"startDate": {"type":"string"},
					"endDate": {"type":"string"}
				},
				"required": ["role", "person", "startDate"]
			}	
		}
	}
}
